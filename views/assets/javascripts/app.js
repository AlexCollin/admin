"use strict";$(function(){$(document).on("click.qor.alert",'[data-dismiss="alert"]',function(){$(this).closest(".qor-alert").remove()}),setTimeout(function(){$('.qor-alert[data-dismissible="true"]').remove()},5e3)}),$(function(){var e=$(".qor-page__body > .qor-form-container > form");$(".qor-error > li > label").each(function(){var a=$(this),o=a.attr("for");o&&e.find("#"+o).closest(".qor-field").addClass("is-error").append(a.clone().addClass("qor-field__error"))})}),$(function(){$(document).on("click",".qor-dialog--global-search",function(e){e.stopPropagation(),$(e.target).parents(".qor-dialog-content").length||$(e.target).is(".qor-dialog-content")||$(".qor-dialog--global-search").remove()}),$(document).on("click",".qor-global-search--show",function(e){e.preventDefault();var a=$(this).data(),o=window.Mustache.render('<div class="qor-dialog qor-dialog--global-search" tabindex="-1" role="dialog" aria-hidden="true"><div class="qor-dialog-content"><form action=[[actionUrl]]><div class="mdl-textfield mdl-js-textfield" id="global-search-textfield"><input class="mdl-textfield__input ignore-dirtyform" name="keyword" id="globalSearch" value="" type="text" placeholder="" /><label class="mdl-textfield__label" for="globalSearch">[[placeholder]]</label></div></form></div></div>',a);$("body").append(o),window.componentHandler.upgradeElement(document.getElementById("global-search-textfield")),$("#globalSearch").focus()})}),$(function(){$(".qor-menu-container").on("click","> ul > li > a",function(){var e=$(this),a=e.parent(),o=e.next("ul");o.length&&(o.hasClass("in")?(a.removeClass("is-expanded"),o.one("transitionend",function(){o.removeClass("collapsing in")}).addClass("collapsing").height(0)):(a.addClass("is-expanded"),o.one("transitionend",function(){o.removeClass("collapsing")}).addClass("collapsing in").height(o.prop("scrollHeight"))))}).find("> ul > li > a").each(function(){var e=$(this),a=e.parent(),o=e.next("ul");o.length&&(a.addClass("has-menu is-expanded"),o.addClass("collapse in").height(o.prop("scrollHeight")))});var e=$(".qor-page > .qor-page__header"),a=$(".qor-page > .qor-page__body");e.length&&(e.height()>48&&a.css("padding-top",e.height()),$(".qor-page").addClass("has-header"),$("header.mdl-layout__header").addClass("has-action"))}),$(function(){$(".qor-mobile--show-actions").on("click",function(){$(".qor-page__header").toggleClass("actions-show")})}),$(function(){function e(e){$("[data-url]").removeClass(r),e&&e.length&&e.addClass(r)}function a(){var e=$(".qor-js-table tbody").find(".mdl-checkbox__input:checked"),a=[];if(e.length)return e.each(function(){a.push($(this).closest("tr").data("primary-key"))}),a}var o=$("body"),t=void 0,n=void 0,r="is-selected",l=function(){return o.hasClass("qor-slideout-open")},s=function(){return o.hasClass("qor-bottomsheets-open")};o.qorBottomSheets(),o.qorSlideout(),t=o.data("qor.slideout"),n=o.data("qor.bottomsheets"),$(document).on("click.qor.openUrl","[data-url]",function(o){var i=$(this),d=$(o.target),c=i.hasClass("qor-button--new"),h=i.hasClass("qor-button--edit"),u=i.is(".qor-table tr[data-url]")||i.closest(".qor-js-table").length,p=i.data(),g=void 0,f=p.openType,m=i.parents(".qor-theme-slideout").length,q=(i.hasClass("qor-action-button")||i.hasClass("qor-action--button"))&&!f;if(!(d.closest(".qor-button--actions").length||!d.data("url")&&d.is("a")||u&&s()))return q&&(g=a(),p=$.extend({},p,{actionData:g})),p.$target=d,p.method&&"GET"!=p.method.toUpperCase()?void 0:q||"bottomsheet"==f?(n.open(p),!1):u||c&&!s()||h||"slideout"==f?m||"slideout"==f?i.hasClass(r)?(t.hide(),e(),!1):(t.open(p),e(i),!1):(window.location=p.url,!1):l()||c&&s()?(n.open(p),!1):m?(t.open(p),!1):(n.open(p),!1)})}),$(function(){var e=window.location;$(".qor-search").each(function(){var a=$(this),o=a.find(".qor-search__input"),t=a.find(".qor-search__clear"),n=!!o.val(),r=function(){"?"==e.search.replace(new RegExp(o.attr("name")+"\\=?\\w*"),"")?e.href=e.href.split("?")[0]:e.search=e.search.replace(new RegExp(o.attr("name")+"\\=?\\w*"),"")};a.closest(".qor-page__header").addClass("has-search"),$("header.mdl-layout__header").addClass("has-search"),t.on("click",function(){o.val()||n?r():a.removeClass("is-dirty")})})});